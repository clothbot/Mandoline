#include <fstream>
#include <BGL.hh>
#include "testbed.h"



// Spiral
BGL::Point spiralPoints[] = {
    BGL::Point(0.875, 1.875),
    BGL::Point(0.875, 1.86954),
    BGL::Point(0.87572, 1.8641),
    BGL::Point(0.87713, 1.85882),
    BGL::Point(0.87854, 1.85355),
    BGL::Point(0.88064, 1.84848),
    BGL::Point(0.88337, 1.84375),
    BGL::Point(0.8861, 1.83902),
    BGL::Point(0.88944, 1.83467),
    BGL::Point(0.89331, 1.83081),
    BGL::Point(0.89717, 1.82694),
    BGL::Point(0.90152, 1.8236),
    BGL::Point(0.90625, 1.82087),
    BGL::Point(0.91098, 1.81814),
    BGL::Point(0.91605, 1.81604),
    BGL::Point(0.92132, 1.81463),
    BGL::Point(0.9266, 1.81322),
    BGL::Point(0.93204, 1.8125),
    BGL::Point(0.9375, 1.8125),
    BGL::Point(0.94296, 1.8125),
    BGL::Point(0.9484, 1.81322),
    BGL::Point(0.95368, 1.81463),
    BGL::Point(0.95895, 1.81604),
    BGL::Point(0.96402, 1.81814),
    BGL::Point(0.96875, 1.82087),
    BGL::Point(0.97348, 1.8236),
    BGL::Point(0.97783, 1.82694),
    BGL::Point(0.98169, 1.83081),
    BGL::Point(0.98556, 1.83467),
    BGL::Point(0.9889, 1.83902),
    BGL::Point(0.99163, 1.84375),
    BGL::Point(0.99436, 1.84848),
    BGL::Point(0.99646, 1.85355),
    BGL::Point(0.99787, 1.85882),
    BGL::Point(0.99928, 1.8641),
    BGL::Point(1.0, 1.86954),
    BGL::Point(1.0, 1.875),
    BGL::Point(1.0048, 2.00609),
    BGL::Point(1.03673, 2.13431),
    BGL::Point(1.09056, 2.2517),
    BGL::Point(1.14439, 2.3691),
    BGL::Point(1.22177, 2.4736),
    BGL::Point(1.31499, 2.56001),
    BGL::Point(1.40822, 2.64642),
    BGL::Point(1.51793, 2.7122),
    BGL::Point(1.63525, 2.75557),
    BGL::Point(1.75258, 2.79895),
    BGL::Point(1.87704, 2.81733),
    BGL::Point(2.0, 2.8125),
    BGL::Point(2.12296, 2.80767),
    BGL::Point(2.24292, 2.77745),
    BGL::Point(2.35279, 2.7267),
    BGL::Point(2.46266, 2.67596),
    BGL::Point(2.56017, 2.60331),
    BGL::Point(2.64082, 2.51582),
    BGL::Point(2.72146, 2.42832),
    BGL::Point(2.78259, 2.32565),
    BGL::Point(2.82283, 2.21583),
    BGL::Point(2.86307, 2.106),
    BGL::Point(2.87986, 1.98983),
    BGL::Point(2.875, 1.875),
    BGL::Point(2.87014, 1.76017),
    BGL::Point(2.84162, 1.64848),
    BGL::Point(2.79396, 1.54613),
    BGL::Point(2.7463, 1.44378),
    BGL::Point(2.67839, 1.35325),
    BGL::Point(2.59662, 1.27838),
    BGL::Point(2.51485, 1.2035),
    BGL::Point(2.41923, 1.14701),
    BGL::Point(2.31691, 1.10991),
    BGL::Point(2.21459, 1.07281),
    BGL::Point(2.1067, 1.05761),
    BGL::Point(2.0, 1.0625),
    BGL::Point(1.8933, 1.06739),
    BGL::Point(1.78988, 1.09421),
    BGL::Point(1.69505, 1.13878),
    BGL::Point(1.60022, 1.18336),
    BGL::Point(1.51668, 1.24653),
    BGL::Point(1.44757, 1.32257),
    BGL::Point(1.37847, 1.39861),
    BGL::Point(1.32662, 1.48718),
    BGL::Point(1.29265, 1.58201),
    BGL::Point(1.25869, 1.67683),
    BGL::Point(1.24508, 1.77643),
    BGL::Point(1.25, 1.875),
    BGL::Point(1.25492, 1.97357),
    BGL::Point(1.28003, 2.06873),
    BGL::Point(1.32153, 2.15603),
    BGL::Point(1.36302, 2.24334),
    BGL::Point(1.42145, 2.3199),
    BGL::Point(1.49177, 2.38323),
    BGL::Point(1.56208, 2.44657),
    BGL::Point(1.6436, 2.49378),
    BGL::Point(1.73093, 2.5246),
    BGL::Point(1.81825, 2.55543),
    BGL::Point(1.90956, 2.56745),
    BGL::Point(2.0, 2.5625),
    BGL::Point(2.09044, 2.55755),
    BGL::Point(2.17733, 2.53414),
    BGL::Point(2.25712, 2.49573),
    BGL::Point(2.3369, 2.45732),
    BGL::Point(2.40647, 2.40363),
    BGL::Point(2.46404, 2.33904),
    BGL::Point(2.52161, 2.27445),
    BGL::Point(2.56418, 2.19998),
    BGL::Point(2.59186, 2.12016),
    BGL::Point(2.61954, 2.04033),
    BGL::Point(2.62998, 1.95731),
    BGL::Point(2.625, 1.875),
    BGL::Point(2.62002, 1.79269),
    BGL::Point(2.59832, 1.71406),
    BGL::Point(2.56299, 1.6418),
    BGL::Point(2.52766, 1.56954),
    BGL::Point(2.47871, 1.50695),
    BGL::Point(2.41984, 1.45516),
    BGL::Point(2.36098, 1.40336),
    BGL::Point(2.29357, 1.36543),
    BGL::Point(2.22124, 1.34088),
    BGL::Point(2.14891, 1.31634),
    BGL::Point(2.07418, 1.30749),
    BGL::Point(2.0, 1.3125),
    BGL::Point(1.92582, 1.31751),
    BGL::Point(1.85546, 1.33751),
    BGL::Point(1.79072, 1.36975),
    BGL::Point(1.72598, 1.402),
    BGL::Point(1.67037, 1.44621),
    BGL::Point(1.62435, 1.49935),
    BGL::Point(1.57833, 1.55249),
    BGL::Point(1.54503, 1.61285),
    BGL::Point(1.52362, 1.67768),
    BGL::Point(1.50222, 1.74251),
    BGL::Point(1.49495, 1.80895),
    BGL::Point(1.5, 1.875),
    BGL::Point(1.50505, 1.94105),
    BGL::Point(1.52333, 2.00315),
    BGL::Point(1.5525, 2.06036),
    BGL::Point(1.58166, 2.11757),
    BGL::Point(1.62113, 2.16621),
    BGL::Point(1.66854, 2.20646),
    BGL::Point(1.71595, 2.24671),
    BGL::Point(1.76927, 2.27538),
    BGL::Point(1.8266, 2.29363),
    BGL::Point(1.88393, 2.31189),
    BGL::Point(1.94208, 2.31758),
    BGL::Point(2.0, 2.3125),
    BGL::Point(2.05792, 2.30742),
    BGL::Point(2.11176, 2.29085),
    BGL::Point(2.16144, 2.26476),
    BGL::Point(2.21113, 2.23867),
    BGL::Point(2.25279, 2.20395),
    BGL::Point(2.28726, 2.16226),
    BGL::Point(2.32173, 2.12057),
    BGL::Point(2.34578, 2.07432),
    BGL::Point(2.36089, 2.02449),
    BGL::Point(2.376, 1.97465),
    BGL::Point(2.38012, 1.92479),
    BGL::Point(2.375, 1.875),
    BGL::Point(2.36988, 1.82521),
    BGL::Point(2.35504, 1.77963),
    BGL::Point(2.33202, 1.73747),
    BGL::Point(2.309, 1.69532),
    BGL::Point(2.27903, 1.66062),
    BGL::Point(2.24307, 1.63193),
    BGL::Point(2.2071, 1.60324),
    BGL::Point(2.1679, 1.58381),
    BGL::Point(2.12557, 1.57185),
    BGL::Point(2.08323, 1.5599),
    BGL::Point(2.04165, 1.55733),
    BGL::Point(2.0, 1.5625),
    BGL::Point(1.95835, 1.56767),
    BGL::Point(1.92101, 1.58078),
    BGL::Point(1.88639, 1.60072),
    BGL::Point(1.85177, 1.62067),
    BGL::Point(1.82403, 1.64588),
    BGL::Point(1.80113, 1.67613),
    BGL::Point(1.77822, 1.70637),
    BGL::Point(1.76339, 1.73851),
    BGL::Point(1.75459, 1.77335),
    BGL::Point(1.7458, 1.80819),
    BGL::Point(1.74478, 1.84149),
    BGL::Point(1.75, 1.875),
    BGL::Point(1.75522, 1.90851),
    BGL::Point(1.76658, 1.93762),
    BGL::Point(1.78347, 1.96469),
    BGL::Point(1.80035, 1.99177),
    BGL::Point(1.82079, 2.01258),
    BGL::Point(1.84532, 2.02968),
    BGL::Point(1.86985, 2.04678),
    BGL::Point(1.89493, 2.05705),
    BGL::Point(1.92227, 2.06266),
    BGL::Point(1.9496, 2.06828),
    BGL::Point(1.97464, 2.0678),
    BGL::Point(2.0, 2.0625),
    BGL::Point(2.02536, 2.0572),
    BGL::Point(2.04626, 2.04763),
    BGL::Point(2.06577, 2.03379),
    BGL::Point(2.08529, 2.01995),
    BGL::Point(2.09922, 2.00431),
    BGL::Point(2.11049, 1.98549),
    BGL::Point(2.12175, 1.96666),
    BGL::Point(2.12752, 1.94864),
    BGL::Point(2.12992, 1.92881),
    BGL::Point(2.13007, 1.92758),
    BGL::Point(2.13018, 1.92645),
    BGL::Point(2.13029, 1.92526),
    BGL::Point(2.1304, 1.92407),
    BGL::Point(2.13049, 1.9229),
    BGL::Point(2.13057, 1.92172),
    BGL::Point(2.13065, 1.92054),
    BGL::Point(2.1307, 1.91937),
    BGL::Point(2.13075, 1.91819),
    BGL::Point(2.13079, 1.91702),
    BGL::Point(2.13081, 1.91586),
    BGL::Point(2.13083, 1.91469),
    BGL::Point(2.13085, 1.91352),
    BGL::Point(2.13084, 1.91237),
    BGL::Point(2.13083, 1.9112),
    BGL::Point(2.13081, 1.91004),
    BGL::Point(2.13077, 1.9089),
    BGL::Point(2.13073, 1.90775),
    BGL::Point(2.13068, 1.90659),
    BGL::Point(2.13061, 1.90546),
    BGL::Point(2.13054, 1.90431),
    BGL::Point(2.13046, 1.90317),
    BGL::Point(2.13036, 1.90204),
    BGL::Point(2.13026, 1.90091),
    BGL::Point(2.13016, 1.89978),
    BGL::Point(2.13003, 1.89866),
    BGL::Point(2.1299, 1.89754),
    BGL::Point(2.12976, 1.89642),
    BGL::Point(2.1296, 1.89531),
    BGL::Point(2.12944, 1.8942),
    BGL::Point(2.12928, 1.89309),
    BGL::Point(2.1291, 1.892),
    BGL::Point(2.12891, 1.8909),
    BGL::Point(2.12872, 1.8898),
    BGL::Point(2.1285, 1.88872),
    BGL::Point(2.12829, 1.88764),
    BGL::Point(2.12807, 1.88655),
    BGL::Point(2.12783, 1.88548),
    BGL::Point(2.12758, 1.88441),
    BGL::Point(2.12734, 1.88334),
    BGL::Point(2.12707, 1.88229),
    BGL::Point(2.1268, 1.88123),
    BGL::Point(2.12653, 1.88017),
    BGL::Point(2.12624, 1.87913),
    BGL::Point(2.12594, 1.87809),
    BGL::Point(2.12564, 1.87705),
    BGL::Point(2.12608, 1.875),
    BGL::Point(2.125, 1.875),
    BGL::Point(2.125, 1.86954),
    BGL::Point(2.12572, 1.8641),
    BGL::Point(2.12713, 1.85882),
    BGL::Point(2.12854, 1.85355),
    BGL::Point(2.13064, 1.84848),
    BGL::Point(2.13337, 1.84375),
    BGL::Point(2.1361, 1.83902),
    BGL::Point(2.13944, 1.83467),
    BGL::Point(2.14331, 1.83081),
    BGL::Point(2.14717, 1.82694),
    BGL::Point(2.15152, 1.8236),
    BGL::Point(2.15625, 1.82087),
    BGL::Point(2.16098, 1.81814),
    BGL::Point(2.16605, 1.81604),
    BGL::Point(2.17132, 1.81463),
    BGL::Point(2.1766, 1.81322),
    BGL::Point(2.18204, 1.8125),
    BGL::Point(2.1875, 1.8125),
    BGL::Point(2.19296, 1.8125),
    BGL::Point(2.1984, 1.81322),
    BGL::Point(2.20368, 1.81463),
    BGL::Point(2.20895, 1.81604),
    BGL::Point(2.21402, 1.81814),
    BGL::Point(2.21875, 1.82087),
    BGL::Point(2.22348, 1.8236),
    BGL::Point(2.22783, 1.82694),
    BGL::Point(2.23169, 1.83081),
    BGL::Point(2.23556, 1.83467),
    BGL::Point(2.2389, 1.83902),
    BGL::Point(2.24163, 1.84375),
    BGL::Point(2.24436, 1.84848),
    BGL::Point(2.24646, 1.85355),
    BGL::Point(2.24787, 1.85882),
    BGL::Point(2.24928, 1.8641),
    BGL::Point(2.25, 1.86954),
    BGL::Point(2.25, 1.875),
    BGL::Point(2.25207, 1.875),
    BGL::Point(2.25063, 1.87909),
    BGL::Point(2.2509, 1.88116),
    BGL::Point(2.25117, 1.88322),
    BGL::Point(2.25143, 1.88528),
    BGL::Point(2.25165, 1.88736),
    BGL::Point(2.25187, 1.88944),
    BGL::Point(2.25208, 1.89151),
    BGL::Point(2.25224, 1.89361),
    BGL::Point(2.25241, 1.8957),
    BGL::Point(2.25257, 1.89778),
    BGL::Point(2.25268, 1.89989),
    BGL::Point(2.2528, 1.90199),
    BGL::Point(2.2529, 1.90409),
    BGL::Point(2.25297, 1.9062),
    BGL::Point(2.25303, 1.90831),
    BGL::Point(2.25308, 1.91042),
    BGL::Point(2.25309, 1.91254),
    BGL::Point(2.2531, 1.91466),
    BGL::Point(2.2531, 1.91678),
    BGL::Point(2.25305, 1.91891),
    BGL::Point(2.25301, 1.92104),
    BGL::Point(2.25296, 1.92316),
    BGL::Point(2.25286, 1.9253),
    BGL::Point(2.25276, 1.92743),
    BGL::Point(2.25265, 1.92956),
    BGL::Point(2.2525, 1.9317),
    BGL::Point(2.25235, 1.93384),
    BGL::Point(2.25219, 1.93597),
    BGL::Point(2.25198, 1.93812),
    BGL::Point(2.25177, 1.94026),
    BGL::Point(2.25156, 1.9424),
    BGL::Point(2.2513, 1.94454),
    BGL::Point(2.25103, 1.94669),
    BGL::Point(2.25077, 1.94883),
    BGL::Point(2.25045, 1.95097),
    BGL::Point(2.25013, 1.95312),
    BGL::Point(2.24981, 1.95526),
    BGL::Point(2.24944, 1.9574),
    BGL::Point(2.24906, 1.95955),
    BGL::Point(2.24869, 1.96169),
    BGL::Point(2.24826, 1.96383),
    BGL::Point(2.24783, 1.96597),
    BGL::Point(2.2474, 1.96811),
    BGL::Point(2.24692, 1.97025),
    BGL::Point(2.24643, 1.97239),
    BGL::Point(2.24596, 1.97447),
    BGL::Point(2.24541, 1.97665),
    BGL::Point(2.23661, 2.01149),
    BGL::Point(2.22178, 2.04363),
    BGL::Point(2.19887, 2.07387),
    BGL::Point(2.17597, 2.10412),
    BGL::Point(2.14823, 2.12933),
    BGL::Point(2.11361, 2.14928),
    BGL::Point(2.07899, 2.16922),
    BGL::Point(2.04165, 2.18233),
    BGL::Point(2.0, 2.1875),
    BGL::Point(1.95835, 2.19267),
    BGL::Point(1.91677, 2.1901),
    BGL::Point(1.87443, 2.17815),
    BGL::Point(1.8321, 2.16619),
    BGL::Point(1.7929, 2.14676),
    BGL::Point(1.75693, 2.11807),
    BGL::Point(1.72097, 2.08938),
    BGL::Point(1.691, 2.05468),
    BGL::Point(1.66798, 2.01253),
    BGL::Point(1.64496, 1.97037),
    BGL::Point(1.63012, 1.92479),
    BGL::Point(1.625, 1.875),
    BGL::Point(1.61988, 1.82521),
    BGL::Point(1.624, 1.77535),
    BGL::Point(1.63911, 1.72551),
    BGL::Point(1.65422, 1.67568),
    BGL::Point(1.67827, 1.62943),
    BGL::Point(1.71274, 1.58774),
    BGL::Point(1.74721, 1.54605),
    BGL::Point(1.78887, 1.51133),
    BGL::Point(1.83856, 1.48524),
    BGL::Point(1.88824, 1.45915),
    BGL::Point(1.94208, 1.44258),
    BGL::Point(2.0, 1.4375),
    BGL::Point(2.05792, 1.43242),
    BGL::Point(2.11607, 1.43811),
    BGL::Point(2.1734, 1.45637),
    BGL::Point(2.23073, 1.47462),
    BGL::Point(2.28405, 1.50329),
    BGL::Point(2.33146, 1.54354),
    BGL::Point(2.37887, 1.58379),
    BGL::Point(2.41834, 1.63243),
    BGL::Point(2.4475, 1.68964),
    BGL::Point(2.47667, 1.74685),
    BGL::Point(2.49495, 1.80895),
    BGL::Point(2.5, 1.875),
    BGL::Point(2.50505, 1.94105),
    BGL::Point(2.49778, 2.00749),
    BGL::Point(2.47638, 2.07232),
    BGL::Point(2.45497, 2.13715),
    BGL::Point(2.42167, 2.19751),
    BGL::Point(2.37565, 2.25065),
    BGL::Point(2.32963, 2.30379),
    BGL::Point(2.27402, 2.348),
    BGL::Point(2.20928, 2.38025),
    BGL::Point(2.14454, 2.41249),
    BGL::Point(2.07418, 2.43249),
    BGL::Point(2.0, 2.4375),
    BGL::Point(1.92582, 2.44251),
    BGL::Point(1.85109, 2.43366),
    BGL::Point(1.77876, 2.40912),
    BGL::Point(1.70643, 2.38457),
    BGL::Point(1.63902, 2.34664),
    BGL::Point(1.58016, 2.29484),
    BGL::Point(1.52129, 2.24305),
    BGL::Point(1.47234, 2.18046),
    BGL::Point(1.43701, 2.1082),
    BGL::Point(1.40168, 2.03594),
    BGL::Point(1.37998, 1.95731),
    BGL::Point(1.375, 1.875),
    BGL::Point(1.37002, 1.79269),
    BGL::Point(1.38046, 1.70967),
    BGL::Point(1.40814, 1.62984),
    BGL::Point(1.43582, 1.55002),
    BGL::Point(1.47839, 1.47555),
    BGL::Point(1.53596, 1.41096),
    BGL::Point(1.59353, 1.34637),
    BGL::Point(1.6631, 1.29268),
    BGL::Point(1.74288, 1.25427),
    BGL::Point(1.82267, 1.21586),
    BGL::Point(1.90956, 1.19245),
    BGL::Point(2.0, 1.1875),
    BGL::Point(2.09044, 1.18255),
    BGL::Point(2.18175, 1.19457),
    BGL::Point(2.26907, 1.2254),
    BGL::Point(2.3564, 1.25622),
    BGL::Point(2.43792, 1.30343),
    BGL::Point(2.50823, 1.36677),
    BGL::Point(2.57855, 1.4301),
    BGL::Point(2.63698, 1.50666),
    BGL::Point(2.67847, 1.59397),
    BGL::Point(2.71997, 1.68127),
    BGL::Point(2.74508, 1.77643),
    BGL::Point(2.75, 1.875),
    BGL::Point(2.75492, 1.97357),
    BGL::Point(2.74131, 2.07317),
    BGL::Point(2.70735, 2.16799),
    BGL::Point(2.67338, 2.26282),
    BGL::Point(2.62153, 2.35139),
    BGL::Point(2.55243, 2.42743),
    BGL::Point(2.48332, 2.50347),
    BGL::Point(2.39978, 2.56664),
    BGL::Point(2.30495, 2.61122),
    BGL::Point(2.21012, 2.65579),
    BGL::Point(2.1067, 2.68261),
    BGL::Point(2.0, 2.6875),
    BGL::Point(1.8933, 2.69239),
    BGL::Point(1.78541, 2.67719),
    BGL::Point(1.68309, 2.64009),
    BGL::Point(1.58077, 2.60299),
    BGL::Point(1.48515, 2.5465),
    BGL::Point(1.40338, 2.47162),
    BGL::Point(1.32161, 2.39675),
    BGL::Point(1.2537, 2.30622),
    BGL::Point(1.20604, 2.20387),
    BGL::Point(1.15838, 2.10152),
    BGL::Point(1.12986, 1.98983),
    BGL::Point(1.125, 1.875),
    BGL::Point(1.12014, 1.76017),
    BGL::Point(1.13693, 1.644),
    BGL::Point(1.17717, 1.53417),
    BGL::Point(1.21741, 1.42435),
    BGL::Point(1.27854, 1.32168),
    BGL::Point(1.35918, 1.23418),
    BGL::Point(1.43983, 1.14669),
    BGL::Point(1.53734, 1.07404),
    BGL::Point(1.64721, 1.0233),
    BGL::Point(1.75708, 0.97255),
    BGL::Point(1.87704, 0.94233),
    BGL::Point(2.0, 0.9375),
    BGL::Point(2.12296, 0.93267),
    BGL::Point(2.24742, 0.95105),
    BGL::Point(2.36475, 0.99443),
    BGL::Point(2.48207, 1.0378),
    BGL::Point(2.59178, 1.10358),
    BGL::Point(2.68501, 1.18999),
    BGL::Point(2.77823, 1.2764),
    BGL::Point(2.85561, 1.3809),
    BGL::Point(2.90944, 1.4983),
    BGL::Point(2.96327, 1.61569),
    BGL::Point(2.9952, 1.74391),
    BGL::Point(3.0, 1.875),
    BGL::Point(3.0048, 2.00609),
    BGL::Point(2.98483, 2.13884),
    BGL::Point(2.93832, 2.26366),
    BGL::Point(2.8918, 2.38849),
    BGL::Point(2.82138, 2.50525),
    BGL::Point(2.7292, 2.6042),
    BGL::Point(2.63702, 2.70316),
    BGL::Point(2.52553, 2.78527),
    BGL::Point(2.40062, 2.84219),
    BGL::Point(2.27571, 2.8991),
    BGL::Point(2.13922, 2.93273),
    BGL::Point(2.0, 2.9375),
    BGL::Point(1.86078, 2.94227),
    BGL::Point(1.71974, 2.92071),
    BGL::Point(1.58742, 2.87106),
    BGL::Point(1.4551, 2.82141),
    BGL::Point(1.33128, 2.74635),
    BGL::Point(1.2266, 2.6484),
    BGL::Point(1.12192, 2.55045),
    BGL::Point(1.03507, 2.43197),
    BGL::Point(0.97507, 2.29954),
    BGL::Point(0.91507, 2.16711),
    BGL::Point(0.87975, 2.02235),
    BGL::Point(0.875, 1.875)
};




int main(int argc, char**argv)
{
    char fname[128];

    BGL::Path spiralPath(sizeof(spiralPoints)/sizeof(BGL::Point), spiralPoints);
    spiralPath *= 30;
    BGL::Path spiralOffsetPath(spiralPath);
    spiralOffsetPath += BGL::Point(1.5,9.0);

    fstream fout;
    BGL::SVG svg(250, 250);

    synthesize_testfile_name(fname, sizeof(fname), argv[0], "union", "svg");
    fout.open(fname, fstream::out | fstream::trunc);
    if (fout.good()) {
	svg.header(fout);

	fout << "<g stroke=\"#77f\" fill=\"#ccf\">" << endl;
	spiralPath.svgPathWithOffset(fout, 10, 10);
	fout << "</g>" << endl;

	fout << "<g stroke=\"#0c0\" fill=\"#7f7\">" << endl;
	spiralOffsetPath.svgPathWithOffset(fout, 10, 10);
	fout << "</g>" << endl;

	BGL::Paths outPaths;
	BGL::Paths::iterator pit;
	BGL::Path::unionOf(spiralPath, spiralOffsetPath, outPaths);
	for (pit = outPaths.begin(); pit != outPaths.end(); pit++) {
	    pit->svgPathWithOffset(fout, 10, 10);
	}

	svg.footer(fout);
	fout.sync();
	fout.close();
    }

    synthesize_testfile_name(fname, sizeof(fname), argv[0], "diff", "svg");
    fout.open(fname, fstream::out | fstream::trunc);
    if (fout.good()) {
	svg.header(fout);

	fout << "<g stroke=\"#77f\" fill=\"#ccf\">" << endl;
	spiralPath.svgPathWithOffset(fout, 10, 10);
	fout << "</g>" << endl;

	fout << "<g stroke=\"#0c0\" fill=\"#7f7\">" << endl;
	spiralOffsetPath.svgPathWithOffset(fout, 10, 10);
	fout << "</g>" << endl;

	BGL::Paths outPaths;
	BGL::Paths::iterator pit;
	BGL::Path::differenceOf(spiralPath, spiralOffsetPath, outPaths);
	for (pit = outPaths.begin(); pit != outPaths.end(); pit++) {
	    pit->svgPathWithOffset(fout, 10, 10);
	}

	svg.footer(fout);
	fout.sync();
	fout.close();
    }

    synthesize_testfile_name(fname, sizeof(fname), argv[0], "intsect", "svg");
    fout.open(fname, fstream::out | fstream::trunc);
    if (fout.good()) {
	svg.header(fout);

	fout << "<g stroke=\"#77f\" fill=\"#ccf\">" << endl;
	spiralPath.svgPathWithOffset(fout, 10, 10);
	fout << "</g>" << endl;

	fout << "<g stroke=\"#0c0\" fill=\"#7f7\">" << endl;
	spiralOffsetPath.svgPathWithOffset(fout, 10, 10);
	fout << "</g>" << endl;

	BGL::Paths outPaths;
	BGL::Paths::iterator pit;
	BGL::Path::intersectionOf(spiralPath, spiralOffsetPath, outPaths);
	for (pit = outPaths.begin(); pit != outPaths.end(); pit++) {
	    pit->svgPathWithOffset(fout, 10, 10);
	}

	svg.footer(fout);
	fout.sync();
	fout.close();
    }

    return 0;
}


